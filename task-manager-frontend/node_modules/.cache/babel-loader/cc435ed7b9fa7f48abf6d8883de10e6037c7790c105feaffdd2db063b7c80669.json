{"ast":null,"code":"import axios from 'axios';\nconst API_URL = 'http://localhost:3030/tasks';\nfunction handleNetworkError(error) {\n  if (axios.isAxiosError(error) && !error.response) {\n    window.dispatchEvent(new CustomEvent('server-down'));\n  }\n  throw error;\n}\nexport const fetchTasks = async () => {\n  try {\n    const res = await axios.get(API_URL);\n    return res.data;\n  } catch (err) {\n    handleNetworkError(err);\n  }\n};\nexport const createTask = async data => {\n  try {\n    const res = await axios.post(API_URL, data);\n    return res.data;\n  } catch (err) {\n    handleNetworkError(err);\n  }\n};\nexport const deleteTask = async id => {\n  try {\n    return await axios.delete(`${API_URL}/${id}`);\n  } catch (err) {\n    handleNetworkError(err);\n  }\n};\nexport const updateStatus = async (id, status) => {\n  try {\n    return await axios.patch(`${API_URL}/${id}`, {\n      status\n    });\n  } catch (err) {\n    handleNetworkError(err);\n  }\n};","map":{"version":3,"names":["axios","API_URL","handleNetworkError","error","isAxiosError","response","window","dispatchEvent","CustomEvent","fetchTasks","res","get","data","err","createTask","post","deleteTask","id","delete","updateStatus","status","patch"],"sources":["/home/amer/Desktop/application-gestion-taches/task-manager-frontend/src/services/taskService.ts"],"sourcesContent":["import axios from 'axios';\n\nconst API_URL = 'http://localhost:3030/tasks';\n\nfunction handleNetworkError(error: unknown) {\n    if (axios.isAxiosError(error) && !error.response) {\n        window.dispatchEvent(new CustomEvent('server-down'));\n    }\n    throw error;\n}\n\nexport const fetchTasks = async () => {\n    try {\n        const res = await axios.get(API_URL);\n        return res.data;\n    } catch (err) {\n        handleNetworkError(err);\n    }\n};\n\nexport const createTask = async (data: { title: string; description: string }) => {\n    try {\n        const res = await axios.post(API_URL, data);\n        return res.data;\n    } catch (err) {\n        handleNetworkError(err);\n    }\n};\n\nexport const deleteTask = async (id: number) => {\n    try {\n        return await axios.delete(`${API_URL}/${id}`);\n    } catch (err) {\n        handleNetworkError(err);\n    }\n};\n\nexport const updateStatus = async (id: number, status: 'pending' | 'done') => {\n    try {\n        return await axios.patch(`${API_URL}/${id}`, { status });\n    } catch (err) {\n        handleNetworkError(err);\n    }\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,6BAA6B;AAE7C,SAASC,kBAAkBA,CAACC,KAAc,EAAE;EACxC,IAAIH,KAAK,CAACI,YAAY,CAACD,KAAK,CAAC,IAAI,CAACA,KAAK,CAACE,QAAQ,EAAE;IAC9CC,MAAM,CAACC,aAAa,CAAC,IAAIC,WAAW,CAAC,aAAa,CAAC,CAAC;EACxD;EACA,MAAML,KAAK;AACf;AAEA,OAAO,MAAMM,UAAU,GAAG,MAAAA,CAAA,KAAY;EAClC,IAAI;IACA,MAAMC,GAAG,GAAG,MAAMV,KAAK,CAACW,GAAG,CAACV,OAAO,CAAC;IACpC,OAAOS,GAAG,CAACE,IAAI;EACnB,CAAC,CAAC,OAAOC,GAAG,EAAE;IACVX,kBAAkB,CAACW,GAAG,CAAC;EAC3B;AACJ,CAAC;AAED,OAAO,MAAMC,UAAU,GAAG,MAAOF,IAA4C,IAAK;EAC9E,IAAI;IACA,MAAMF,GAAG,GAAG,MAAMV,KAAK,CAACe,IAAI,CAACd,OAAO,EAAEW,IAAI,CAAC;IAC3C,OAAOF,GAAG,CAACE,IAAI;EACnB,CAAC,CAAC,OAAOC,GAAG,EAAE;IACVX,kBAAkB,CAACW,GAAG,CAAC;EAC3B;AACJ,CAAC;AAED,OAAO,MAAMG,UAAU,GAAG,MAAOC,EAAU,IAAK;EAC5C,IAAI;IACA,OAAO,MAAMjB,KAAK,CAACkB,MAAM,CAAC,GAAGjB,OAAO,IAAIgB,EAAE,EAAE,CAAC;EACjD,CAAC,CAAC,OAAOJ,GAAG,EAAE;IACVX,kBAAkB,CAACW,GAAG,CAAC;EAC3B;AACJ,CAAC;AAED,OAAO,MAAMM,YAAY,GAAG,MAAAA,CAAOF,EAAU,EAAEG,MAA0B,KAAK;EAC1E,IAAI;IACA,OAAO,MAAMpB,KAAK,CAACqB,KAAK,CAAC,GAAGpB,OAAO,IAAIgB,EAAE,EAAE,EAAE;MAAEG;IAAO,CAAC,CAAC;EAC5D,CAAC,CAAC,OAAOP,GAAG,EAAE;IACVX,kBAAkB,CAACW,GAAG,CAAC;EAC3B;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}